library(leaflet)
library(sf)
library(tigris)
library(shiny)
library(clipr)
library(dplyr)
ui <- fluidPage(
titlePanel("Geoguessr Cities"),
tags$head(
tags$style(HTML("
#mapContainer {
width: 70%; /* Set the width for portrait ratio */
height: 80vh; /* Adjust height as needed */
margin: auto; /* Center the map horizontally */
}
"))
),
fluidRow(
column(1, actionButton("dc_button", "DC")),
column(1, actionButton("nyc_button", "NYC"))
),
div(
id = "mapContainer",
leafletOutput("map", width = "100%", height = "100%")
),
verbatimTextOutput("coords"),
tags$a(href = "https://drive.google.com/drive/folders/1SC6i48TZ9XqfO_0-EW7pSASEYJPX_zgj?usp=drive_link", "Round 1 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1eon0YM4-xRIwulEKgXmN-A_qFrPUH6_O?usp=drive_link", "Round 2 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1tYXD85_fmU52VgYsgAzVcHYniErzgk8y?usp=drive_link", "Round 3 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://docs.google.com/spreadsheets/d/1FnSqet68G3hWA0wMUM0Ti-W-PRbS-DMRt4g8zYX5t5s/edit?usp=sharing", "Submit answers here", target = "_blank")
)
server <- function(input, output, session) {
output$map <- renderLeaflet({
leaflet(data = tibble(name = character())) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$dc_button, {
leafletProxy("map") %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$nyc_button, {
leafletProxy("map") %>%
setView(lng = -73.9431, lat = 40.7212, zoom = 11)
})
observeEvent(input$map_click, {
click <- input$map_click
lat <- click$lat
lng <- click$lng
leafletProxy("map") %>%
clearMarkers() %>%
addMarkers(lng = lng, lat = lat)
lat_lng <- paste(lat, lng, sep = ", ")
output$coords <- renderText({
paste(lat_lng)
})
})
}
shinyApp(ui, server)
library(leaflet)
library(sf)
library(tigris)
library(shiny)
library(clipr)
library(dplyr)
ui <- fluidPage(
titlePanel("Geoguessr Cities"),
tags$head(
tags$style(HTML("
#mapContainer {
width: 70%; /* Set the width for portrait ratio */
height: 80vh; /* Adjust height as needed */
margin: auto; /* Center the map horizontally */
}
"))
),
fluidRow(
column(1, actionButton("dc_button", "DC")),
column(1, actionButton("nyc_button", "NYC"))
),
div(
id = "mapContainer",
leafletOutput("map", width = "100%", height = "100%")
),
verbatimTextOutput("coords"),
tags$a(href = "https://drive.google.com/drive/folders/1SC6i48TZ9XqfO_0-EW7pSASEYJPX_zgj?usp=drive_link", "Round 1 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1eon0YM4-xRIwulEKgXmN-A_qFrPUH6_O?usp=drive_link", "Round 2 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1tYXD85_fmU52VgYsgAzVcHYniErzgk8y?usp=drive_link", "Round 3 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://docs.google.com/spreadsheets/d/1FnSqet68G3hWA0wMUM0Ti-W-PRbS-DMRt4g8zYX5t5s/edit?usp=sharing", "Submit answers here", target = "_blank"),
tags$br(),
tags$br(),
textInput("location1", "Location 1", value = ""),
textInput("location2", "Location 2", value = ""),
textInput("location3", "Location 3", value = ""),
textInput("location4", "Location 4", value = ""),
textInput("location5", "Location 5", value = "")
)
server <- function(input, output, session) {
output$map <- renderLeaflet({
leaflet(data = tibble(name = character())) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$dc_button, {
leafletProxy("map") %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$nyc_button, {
leafletProxy("map") %>%
setView(lng = -73.9431, lat = 40.7212, zoom = 11)
})
observeEvent(input$map_click, {
click <- input$map_click
lat <- click$lat
lng <- click$lng
leafletProxy("map") %>%
clearMarkers() %>%
addMarkers(lng = lng, lat = lat)
lat_lng <- paste(lat, lng, sep = ", ")
output$coords <- renderText({
paste(lat_lng)
})
})
}
shinyApp(ui, server)
library(leaflet)
library(sf)
library(tigris)
library(shiny)
library(clipr)
library(dplyr)
ui <- fluidPage(
titlePanel("Geoguessr Cities"),
tags$head(
tags$style(HTML("
#mapContainer {
width: 70%; /* Set the width for portrait ratio */
height: 80vh; /* Adjust height as needed */
margin: auto; /* Center the map horizontally */
}
"))
),
fluidRow(
column(1, actionButton("dc_button", "DC")),
column(1, actionButton("nyc_button", "NYC"))
),
div(
id = "mapContainer",
leafletOutput("map", width = "100%", height = "100%")
),
verbatimTextOutput("coords"),
tags$a(href = "https://drive.google.com/drive/folders/1SC6i48TZ9XqfO_0-EW7pSASEYJPX_zgj?usp=drive_link", "Round 1 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1eon0YM4-xRIwulEKgXmN-A_qFrPUH6_O?usp=drive_link", "Round 2 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1tYXD85_fmU52VgYsgAzVcHYniErzgk8y?usp=drive_link", "Round 3 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://docs.google.com/spreadsheets/d/1FnSqet68G3hWA0wMUM0Ti-W-PRbS-DMRt4g8zYX5t5s/edit?usp=sharing", "Submit answers here", target = "_blank"),
tags$br(),
tags$br(),
textInput("location1", "Location 1", value = ""),
textInput("location2", "Location 2", value = ""),
textInput("location3", "Location 3", value = ""),
textInput("location4", "Location 4", value = ""),
textInput("location5", "Location 5", value = "")
)
server <- function(input, output, session) {
output$map <- renderLeaflet({
leaflet(data = tibble(name = character())) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$dc_button, {
leafletProxy("map") %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$nyc_button, {
leafletProxy("map") %>%
setView(lng = -73.9431, lat = 40.7212, zoom = 11)
})
observeEvent(input$map_click, {
click <- input$map_click
lat <- click$lat
lng <- click$lng
leafletProxy("map") %>%
clearMarkers() %>%
addMarkers(lng = lng, lat = lat)
lat_lng <- paste(lat, lng, sep = ", ")
output$coords <- renderText({
paste(lat_lng)
})
observeEvent(input$location1, {
if (!is.null(input$location1)) updateTextInput(session, "location1", value = lat_lng)
})
observeEvent(input$location2, {
if (!is.null(input$location2)) updateTextInput(session, "location2", value = lat_lng)
})
observeEvent(input$location3, {
if (!is.null(input$location3)) updateTextInput(session, "location3", value = lat_lng)
})
observeEvent(input$location4, {
if (!is.null(input$location4)) updateTextInput(session, "location4", value = lat_lng)
})
observeEvent(input$location5, {
if (!is.null(input$location5)) updateTextInput(session, "location5", value = lat_lng)
})
})
}
shinyApp(ui, server)
library(leaflet)
library(sf)
library(tigris)
library(shiny)
library(clipr)
library(dplyr)
ui <- fluidPage(
titlePanel("Geoguessr Cities"),
tags$head(
tags$style(HTML("
#mapContainer {
width: 70%; /* Set the width for portrait ratio */
height: 80vh; /* Adjust height as needed */
margin: auto; /* Center the map horizontally */
}
"))
),
fluidRow(
column(1, actionButton("dc_button", "DC")),
column(1, actionButton("nyc_button", "NYC"))
),
div(
id = "mapContainer",
leafletOutput("map", width = "100%", height = "100%")
),
verbatimTextOutput("coords"),
tags$a(href = "https://drive.google.com/drive/folders/1SC6i48TZ9XqfO_0-EW7pSASEYJPX_zgj?usp=drive_link", "Round 1 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1eon0YM4-xRIwulEKgXmN-A_qFrPUH6_O?usp=drive_link", "Round 2 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1tYXD85_fmU52VgYsgAzVcHYniErzgk8y?usp=drive_link", "Round 3 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://docs.google.com/spreadsheets/d/1FnSqet68G3hWA0wMUM0Ti-W-PRbS-DMRt4g8zYX5t5s/edit?usp=sharing", "Submit answers here", target = "_blank"),
tags$br(),
tags$br(),
textInput("location1", "Location 1", value = ""),
textInput("location2", "Location 2", value = ""),
textInput("location3", "Location 3", value = ""),
textInput("location4", "Location 4", value = ""),
textInput("location5", "Location 5", value = "")
)
server <- function(input, output, session) {
clicked_textbox <- reactiveVal(NULL)
output$map <- renderLeaflet({
leaflet(data = tibble(name = character())) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$dc_button, {
leafletProxy("map") %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$nyc_button, {
leafletProxy("map") %>%
setView(lng = -73.9431, lat = 40.7212, zoom = 11)
})
observe({
if (!is.null(input$location1)) clicked_textbox("location1")
})
observe({
if (!is.null(input$location2)) clicked_textbox("location2")
})
observe({
if (!is.null(input$location3)) clicked_textbox("location3")
})
observe({
if (!is.null(input$location4)) clicked_textbox("location4")
})
observe({
if (!is.null(input$location5)) clicked_textbox("location5")
})
observeEvent(input$map_click, {
click <- input$map_click
lat <- click$lat
lng <- click$lng
leafletProxy("map") %>%
clearMarkers() %>%
addMarkers(lng = lng, lat = lat)
lat_lng <- paste(lat, lng, sep = ", ")
output$coords <- renderText({
paste(lat_lng)
})
if (!is.null(clicked_textbox())) {
updateTextInput(session, clicked_textbox(), value = lat_lng)
}
})
}
shinyApp(ui, server)
library(leaflet)
library(sf)
library(tigris)
library(shiny)
library(clipr)
library(dplyr)
ui <- fluidPage(
titlePanel("Geoguessr Cities"),
tags$head(
tags$style(HTML("
#mapContainer {
width: 70%; /* Set the width for portrait ratio */
height: 80vh; /* Adjust height as needed */
margin: auto; /* Center the map horizontally */
}
"))
),
fluidRow(
column(1, actionButton("dc_button", "DC")),
column(1, actionButton("nyc_button", "NYC"))
),
div(
id = "mapContainer",
leafletOutput("map", width = "100%", height = "100%")
),
verbatimTextOutput("coords"),
tags$a(href = "https://drive.google.com/drive/folders/1SC6i48TZ9XqfO_0-EW7pSASEYJPX_zgj?usp=drive_link", "Round 1 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1eon0YM4-xRIwulEKgXmN-A_qFrPUH6_O?usp=drive_link", "Round 2 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1tYXD85_fmU52VgYsgAzVcHYniErzgk8y?usp=drive_link", "Round 3 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://docs.google.com/spreadsheets/d/1FnSqet68G3hWA0wMUM0Ti-W-PRbS-DMRt4g8zYX5t5s/edit?usp=sharing", "Submit answers here", target = "_blank"),
tags$br(),
tags$br(),
textInput("location1", "Location 1", value = ""),
textInput("location2", "Location 2", value = ""),
textInput("location3", "Location 3", value = ""),
textInput("location4", "Location 4", value = ""),
textInput("location5", "Location 5", value = "")
)
server <- function(input, output, session) {
active_textbox <- reactiveVal(NULL)
output$map <- renderLeaflet({
leaflet(data = tibble(name = character())) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$dc_button, {
leafletProxy("map") %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$nyc_button, {
leafletProxy("map") %>%
setView(lng = -73.9431, lat = 40.7212, zoom = 11)
})
observeEvent(input$location1, {
active_textbox("location1")
})
observeEvent(input$location2, {
active_textbox("location2")
})
observeEvent(input$location3, {
active_textbox("location3")
})
observeEvent(input$location4, {
active_textbox("location4")
})
observeEvent(input$location5, {
active_textbox("location5")
})
observeEvent(input$map_click, {
click <- input$map_click
lat <- click$lat
lng <- click$lng
leafletProxy("map") %>%
clearMarkers() %>%
addMarkers(lng = lng, lat = lat)
lat_lng <- paste(lat, lng, sep = ", ")
output$coords <- renderText({
paste(lat_lng)
})
if (!is.null(active_textbox())) {
updateTextInput(session, active_textbox(), value = lat_lng)
}
})
}
shinyApp(ui, server)
library(leaflet)
library(sf)
library(tigris)
library(shiny)
library(clipr)
library(dplyr)
ui <- fluidPage(
titlePanel("Geoguessr Cities"),
tags$head(
tags$style(HTML("
#mapContainer {
width: 70%; /* Set the width for portrait ratio */
height: 80vh; /* Adjust height as needed */
margin: auto; /* Center the map horizontally */
}
"))
),
fluidRow(
column(1, actionButton("dc_button", "DC")),
column(1, actionButton("nyc_button", "NYC"))
),
div(
id = "mapContainer",
leafletOutput("map", width = "100%", height = "100%")
),
verbatimTextOutput("coords"),
tags$a(href = "https://drive.google.com/drive/folders/1SC6i48TZ9XqfO_0-EW7pSASEYJPX_zgj?usp=drive_link", "Round 1 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1eon0YM4-xRIwulEKgXmN-A_qFrPUH6_O?usp=drive_link", "Round 2 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://drive.google.com/drive/folders/1tYXD85_fmU52VgYsgAzVcHYniErzgk8y?usp=drive_link", "Round 3 photos", target = "_blank"),
tags$br(),
tags$a(href = "https://docs.google.com/spreadsheets/d/1FnSqet68G3hWA0wMUM0Ti-W-PRbS-DMRt4g8zYX5t5s/edit?usp=sharing", "Submit answers here", target = "_blank"),
tags$br(),
tags$br(),
textInput("location1", "Location 1", value = ""),
textInput("location2", "Location 2", value = ""),
textInput("location3", "Location 3", value = ""),
textInput("location4", "Location 4", value = ""),
textInput("location5", "Location 5", value = "")
)
server <- function(input, output, session) {
active_textbox <- reactiveVal(NULL)
output$map <- renderLeaflet({
leaflet(data = tibble(name = character())) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$dc_button, {
leafletProxy("map") %>%
setView(lng = -77.0147, lat = 38.8943, zoom = 12)
})
observeEvent(input$nyc_button, {
leafletProxy("map") %>%
setView(lng = -73.9431, lat = 40.7212, zoom = 11)
})
observeEvent(input$location1, {
active_textbox("location1")
})
observeEvent(input$location2, {
active_textbox("location2")
})
observeEvent(input$location3, {
active_textbox("location3")
})
observeEvent(input$location4, {
active_textbox("location4")
})
observeEvent(input$location5, {
active_textbox("location5")
})
observeEvent(input$map_click, {
click <- input$map_click
lat <- click$lat
lng <- click$lng
leafletProxy("map") %>%
clearMarkers() %>%
addMarkers(lng = lng, lat = lat)
lat_lng <- paste(lat, lng, sep = ", ")
output$coords <- renderText({
paste(lat_lng)
})
if (!is.null(active_textbox())) {
updateTextInput(session, active_textbox(), value = lat_lng)
}
})
}
shinyApp(ui, server)
